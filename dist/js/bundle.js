!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function n(){if(window.console){var e=0;e||(setTimeout(function(){console.log("%cWelcome to fidget Cube Experience","font: 2em sans-serif; color: red; "),console.log("%cHello, and welcome to the console. The fidget cube was made in Cinema4D and all interaction was made with Threejs [https://github.com/mrdoob/three.js/]","font: 1.5 sans-serif; color: black;"),console.log("%cEnjoy the experience and  if you like it you can go check the code on our Github [https://github.com/FrostOne/hetic-p2019-11].","font: 1.25 sans-serif; color: black;"),console.log("%c[If you want to show message like that go check https://github.com/stml/welcomejs]","font: 1 sans-serif; color: grey;")},1),e=1)}}var o=i(2),a=i(3),r=i(5),s=i(6),c=i(7),l=i(8),u=i(4),d=i(9),h=new u.DomManipulator;window.$=h;var m=new s.appLoader;window.loader=m;new r.AnimationInterface;h.el(".index-detect")?!function(){m.changeState("detect home");new c.Particule;m.changeState="load data json";var e=new o.loadData("dist/data/data.json",function(){e=e.responseText,e=JSON.parse(e);var t=MyApp.templates.home(e),i=MyApp.templates.story(e),n=MyApp.templates.contact(e);h.el("#container_page--home").innerHTML=t,h.el("#container_page--story").innerHTML=i,h.el("#container_page--contact").innerHTML=n},function(){m.__proto___.changeState("rendering cool pages")});document.addEventListener("DOMNodeInserted",function(){document.body.clientWidth>1024&&!function(){switch(!0){case null==h.el("#container_story"):break;case null!=h.el("#container_story"):var e=h.el("#container_story");e.addEventListener("mousewheel",function(){return new a.scrollHorizontal(window.event,e)}),e.addEventListener("DOMMouseScroll",function(t){return new a.scrollHorizontal(t,e)})}}()}),window.location.hash.length>1&&new l.Redirect(window.location.hash),m.__proto__.changeState("end")}():(m.changeState("detect cube"),window.Fidget=new d.Fidget),n()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.loadData=function e(t,n){i(this,e);var o=new XMLHttpRequest;return o.overrideMimeType("application/json"),o.open("GET",t,!0),o.onreadystatechange=function(){4==o.readyState&&"200"==o.status&&n&&n(o.responseText)},o.send(null),o}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollHorizontal=void 0;var o=i(4),a=new o.DomManipulator;t.scrollHorizontal=function e(t,i){n(this,e),t.preventDefault();var o=t||window.event,r=0,s=0,c=0;t=o,o.wheelDelta&&(r=o.wheelDelta/120),o.detail&&(r=-o.detail/3),c=r,void 0!==o.axis&&o.axis===o.HORIZONTAL_AXIS&&(c=0,s=-1*r),void 0!==o.wheelDeltaY&&(c=o.wheelDeltaY/120),void 0!==o.wheelDeltaX&&(s=-1*o.wheelDeltaX/120),i.scrollLeft-=10*r;var l=a.el(".story_intro").clientWidth,u=a.el(".story_part1").clientWidth,d=4*(l+u),h=100*a.el("#container_story").scrollLeft/(a.el(".story").clientWidth-d);h=Math.round(-h);var m=a.el(".slider1"),f=a.el(".slider2"),p=a.el(".slider3"),g=a.el(".slider4");switch(!0){case h>=0&&h<32:m.classList.remove("hide_slider"),f.classList.add("hide_slider");break;case h>32&&h<62:m.classList.add("hide_slider"),f.classList.remove("hide_slider"),p.classList.add("hide_slider");break;case h>62&&h<92:f.classList.add("hide_slider"),p.classList.remove("hide_slider"),g.classList.add("hide_slider");break;case h>92:p.classList.add("hide_slider"),g.classList.remove("hide_slider")}}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){i(this,e)}return n(e,[{key:"id",value:function(e){return document.getElementById(e)}},{key:"el",value:function(e){return document.querySelector(e)}},{key:"class",value:function(e){return document.getElementsByClassName(e)}},{key:"tag",value:function(e){return document.getElementsByTagName(e)}},{key:"all",value:function(e){return document.querySelectorAll(e)}}]),e}();t.DomManipulator=o},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationInterface=void 0;var o=i(4),a=new o.DomManipulator;t.AnimationInterface=function e(){n(this,e);var t=a.el(".menu__button");t.addEventListener("click",function(){t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active"),a.el(".revealMenu").classList.toggle("active")});var i=a.all(".revealMenu__list--link");[].forEach.call(i,function(e){e.addEventListener("mouseenter",function(t){var i=e.getAttribute("data-src");a.el(".revealMenu__imageContainer--picture").setAttribute("src",i)})});var o=a.el(".home"),r=a.el(".story_page"),s=a.el(".credit"),c=a.el(".cube");o.addEventListener("click",function(){a.el(".revealMenu").classList.toggle("active"),t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active"),a.el("#container_page--home").classList.remove("hide_home"),a.el("#container_page--story").classList.add("hide_story"),a.el("#container_page--contact").classList.add("hide_contact")}),c.addEventListener("click",function(){a.el(".revealMenu").classList.toggle("active"),t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active")}),r.addEventListener("click",function(){a.el(".revealMenu").classList.toggle("active"),t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active"),a.el("#container_page--story").classList.remove("hide_story"),a.el("#container_page--home").classList.add("hide_home"),a.el("#container_page--contact").classList.add("hide_contact")}),s.addEventListener("click",function(){a.el(".revealMenu").classList.toggle("active"),t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active"),a.el("#container_page--contact").classList.remove("hide_contact"),a.el("#container_page--home").classList.add("hide_home"),a.el("#container_page--story").classList.add("hide_story")})}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.appLoader=function(){function e(){return i(this,e),window.loadState="initJs",this.loadState=window.loadState,this.container=document.querySelector(".loader"),this.display=document.querySelector(".loader--state"),this}return n(e,[{key:"changeState",value:function(e){window.loadState=e,"end"===e&&(setTimeout(function(){document.querySelector(".loader").className="loader hide"},250),e="Almost there"),this.display?this.display.innerHTML=e+"...":document.querySelector(".loader--state").innerHTML=e+"..."}}]),e}()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.Particule=function e(){i(this,e),particlesJS("particles-js",{particles:{number:{value:50,density:{enable:!0,value_area:800}},color:{value:"#2F9BC2"},shape:{type:"edge",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.35,random:!0,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:2,direction:"top",random:!0,straight:!1,out_mode:"out",attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0,config_demo:{hide_card:!1,background_color:"#b61924",background_image:"",background_position:"50% 50%",background_repeat:"no-repeat",background_size:"cover"}})}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.Redirect=function e(t){switch(i(this,e),t=t.replace("#","")){case"story":document.querySelector("#container_page--home").classList.add("hide_home"),document.querySelector("#container_page--story").classList.remove("hide_story"),document.querySelector("#container_page--contact").classList.add("hide_contact");break;case"credit":document.querySelector("#container_page--home").classList.add("hide_home"),document.querySelector("#container_page--story").classList.add("hide_story"),document.querySelector("#container_page--contact").classList.remove("hide_contact")}}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Fidget=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(10),r=i(16);t.Fidget=function(){function e(){n(this,e),this.cube=new a.Cube,this.interfaceBuilder=new r.interfaceBuilder(window.Detector.isMobile),this.renderThemes(window.Detector.isMobile)}return o(e,[{key:"renderThemes",value:function(e){var t=this;if(e=Detector.isMobile)return!1;var i=window.Detector.isMobile?"showLabel":"",n=this.cube.themes.map(function(e,t){var n="",o=JSON.parse(JSON.stringify(e.colorSet.mainColor));Object.keys(o).forEach(function(e){o[e]=255*o[e]});var a="rgb( "+o.r+", "+o.g+", "+o.b+"  )";return n+='<li>\n                                <a href="#" class="cubeUi__themes--item " data-index="'+t+'">\n                                    <div class="round" style="background:'+a+'"></div><span class="'+i+'">'+e.name+"</span>\n                                </a>\n                          </li>"});$.el(".cubeUi__themes--list").innerHTML+=n.join("");var o=$.class("cubeUi__themes--item");[].forEach.call(o,function(e){e.addEventListener("click",function(i){i.preventDefault();var n=document.querySelector(".cubeUi__themes--item.active");n&&n.classList.remove("active"),e.classList.add("active");var o=e.getAttribute("data-index"),a=t.cube;a.setTheme(a.group,a.themes[o])})})}}]),e}()},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Cube=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(11),r=i(12),s=i(13),c=(i(14),i(15));t.Cube=function(){function e(){var t=this;if(n(this,e),window.Detector=new c.Detector,this.enableVibration=window.Detector.vibrate,window.Cube=this,this.themes=new a.CubeThemes,this.activeTheme=this.themes[0],this.positions=new r.CubePositions,this.activePosition=this.positions[0],window.cubeAnimationState=!1,this.renderScene(),this.setLights(),this.setCamera(),window.Detector.isMobile){new THREE.OrbitControls(this.camera,this.renderer.domElement)}this.animate(),loader.changeState("loading the cube"),this.loadModel(),window.addEventListener("resize",function(){return t.onWindowResize()},!1)}return o(e,[{key:"setTheme",value:function(e,t,i){var n=this;this.activeTheme===t&&i!==!0||(e.children.forEach(function(e,i){switch(e.name){case"roll_sphere":var o=new window.THREEx.CubeCamera(e);n.scene.add(o.object3d),e.material.envMap=o.textureCube,o.update(n.renderer,n.scene);break;case"glide1 extru_glide extru_glide1":e.material.color=t.colorSet.lightColor;break;case"extru_cube Cube1":case"extru_cube Neutre breathe":e.material.color=t.colorSet.cube;break;case"pivot_breathe Pivot flip":case"spin spin2":case"spin spin3":case"glide1 base_glade":case"glide1 extru_glide glide":case"roll roll1":case"roll rollmiddle":case"roll roll3":case"click cylindre1":case"click cyllindre2":case"click cylindre3":case"click cylindre4":case"click cylindre_middle":e.material.color=t.colorSet.mainColor;break;default:e.material.color=t.colorSet.cube}}),document.querySelector(".menu__buttonBuy.unselectable").setAttribute("href","https://www.antsylabs.com/products/fidget-cube?variant="+t.buy_code),this.activeTheme=t)}},{key:"setPosition",value:function(e,t,i){if(this.activePosition!==t||i){var n=this.activePosition;new s.CubeAnimation("animatePositionChange",{beginPosition:n,positionSelected:t});this.activePosition=t}}},{key:"loadModel",value:function(){var e=this,t=new THREE.LoadingManager,i=(document.querySelector(".value"),function(e){if(e.lengthComputable){e.loaded/e.total*100}}),n=function(e){},o=function(e){},a=new THREE.OBJLoader(t);a.load("dist/models3D/model.obj",function(t){e.scene.add(t),window.model=t,loader.changeState("end");var i=new THREEx.DomEvents(e.camera,e.renderer.domElement);t.children.forEach(function(e,n){switch(e.name){case"pivot_breathe Pivot flip":e.animation=new s.CubeAnimation("animateSwitcher",{mesh:e,type:"interaction"});break;case"click cylindre1":case"click cyllindre2":case"click cylindre3":case"click cylindre4":case"click cylindre_middle":e.animation=new s.CubeAnimation("animateButtonsPush",{mesh:e,type:"interaction"});break;case"spin spin2":case"spin spin3":e.animation=new s.CubeAnimation("animateSpin",{mesh:e,mesh2:"spin spin3"===e.name?t.children.filter(function(e){return"spin spin2"===e.name})[0]:t.children.filter(function(e){return"spin spin3"===e.name})[0],type:"interaction"})}i.addEventListener(e,"touchstart",function(t){switch(t.target.name){case"click cylindre1":case"click cyllindre2":case"click cylindre3":case"click cylindre4":case"click cylindre_middle":navigator.vibrate([10,30,90])}e.animation&&e.animation(),console.info(t.target)},!1)}),window.Detector.isMobile&&(t.position.y=0),e.group=t,e.setTheme(t,e.activeTheme,!0),e.setPosition(t,e.activePosition,!1)},n,i,o)}}]),o(e,[{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"animate",value:function(){window.requestAnimationFrame(this.animate.bind(this)),this.render()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera),this.group}},{key:"setLights",value:function(){var e=new THREE.DirectionalLight(16777215,.75);e.position.set(0,0,1),this.scene.add(e);var e=new THREE.DirectionalLight(16777215,.75);e.position.set(-1,0,-1),this.scene.add(e);var e=new THREE.DirectionalLight(16777215,.75);e.position.set(1,1,0),this.scene.add(e);var e=new THREE.DirectionalLight(16777215,.75);e.position.set(-1,-1,0),this.scene.add(e)}},{key:"setCamera",value:function(){var e=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3);this.camera=e,this.camera.position.z=750,this.camera.position.x=0,this.camera.position.y=0,this.camera=e}},{key:"renderScene",value:function(){this.container=document.createElement("div"),document.body.appendChild(this.container);var e=new THREE.Scene;this.scene=e;var t=window.Detector.webgl?new THREE.WebGLRenderer({antialias:!1,alpha:!0}):new THREE.CanvasRenderer;this.renderer=t,t.setPixelRatio(window.devicePixelRatio),t.setSize(window.innerWidth,window.innerHeight),t.domElement.id="three",this.container.appendChild(this.renderer.domElement)}}]),e}()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.CubeThemes=function e(){return i(this,e),this.list=[{name:"retro",buy_code:"30253661068",colorSet:{cube:{r:127/255,g:131/255,b:139/255},mainColor:{r:41/255,g:41/255,b:40/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"dice",buy_code:"26927898438",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:41/255,g:41/255,b:40/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"aqua",buy_code:"30253660812",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:65/255,g:184/255,b:226/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"berry",buy_code:"30253660940",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:232/255,g:30/255,b:158/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"sunset",buy_code:"30253660876",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:232/255,g:166/255,b:65/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"fresh",buy_code:"30253661004",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:187/255,g:234/255,b:110/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"graphite",buy_code:"30253660684",colorSet:{cube:{r:45/255,g:55/255,b:64/255},mainColor:{r:0,g:0,b:0},lightColor:{r:41/255,g:41/255,b:40/255}}},{name:"midnight",buy_code:"30253660748",colorSet:{cube:{r:16/255,g:20/255,b:24/255},mainColor:{r:41/255,g:41/255,b:40/255},lightColor:{r:41/255,g:41/255,b:40/255}}},{name:"kickstarter edition",buy_code:"30253661068",colorSet:{cube:{r:16/255,g:20/255,b:24/255},mainColor:{r:187/255,g:234/255,b:110/255},lightColor:{r:41/255,g:41/255,b:40/255}}}],this.list}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.CubePositions=function e(){return i(this,e),this.list=[{name:"roll",rotation:{x:0,y:0,z:0}},{name:"glide",rotation:{y:1.5,x:0,z:0}},{name:"flip",rotation:{y:0,x:1.5,z:0}},{name:"breathe",rotation:{x:0,y:-1.5,z:0}},{name:"click",rotation:{x:-1.5,y:0,z:0}},{name:"spin",rotation:{x:3,y:0,z:0}},{name:"roll",rotation:{x:0,y:0,z:0}}],this.list}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.CubeAnimation=function(){function e(t,n){if(i(this,e),this.args=n,"animatePositionChange"===t){if(this.id=String.fromCharCode(Math.floor(11*Math.random()))+Math.floor(1e6*Math.random()),cubeAnimationState||"animatePositionChange"!==t)return console.debug("cannot overide animation");window.cubeAnimationState=this}return"interaction"===this.args.type?(this.args.mesh[t]=this,this.args.mesh.isAnimating=!0,this[t]):(this.calls=0,this[t](),void(this.end=!1))}return n(e,[{key:"animateSwitcher",value:function(){var e=this;navigator.vibrate([30,50,125]),e.rotation.x+=Math.PI,e.rotation.z+=Math.PI,e.position.x=10===e.position.x?0:10}},{key:"animateSpin",value:function(){var e=this,t=this;t.animation;return this.mesh=t,this.animationFrame=window.requestAnimationFrame(function(){return e.animation()}),t.animateSpin.renderSpin(t.rotation.z)}},{key:"renderSpin",value:function(e){var t=this.args.mesh.rotation,i=this.args.mesh2.rotation,n=e+Math.PI/24;if(n<=2*Math.PI)t.z=n,i.z=n,navigator.vibrate(2);else{t.z=0,i.z=0,this.args.mesh.stop=!1,this.args.mesh.isAnimating=!1;var o=this.args.mesh.animationFrame;o=window.cancelAnimationFrame(o)}}},{key:"animateButtonsPush",value:function(){var e=this,t=this;t.animation;return this.mesh=t,this.animationFrame=window.requestAnimationFrame(function(){return e.animation()}),t.animateButtonsPush.renderButtonsPush(t.position.y)}},{key:"renderButtonsPush",value:function(e){var t=this.args.mesh.position,i=e+.2;if(i<=5.2&&this.args.mesh.stop!==!0)t.y=i;else if(5===parseInt(t.y)&&this.args.mesh.stop!==!0)this.args.mesh.stop=!0;else if(this.args.mesh.stop&&t.y>=.3)t.y-=.4;else{t.y=0,this.args.mesh.stop=!1,this.args.mesh.isAnimating=!1;var n=this.args.mesh.animationFrame;n=window.cancelAnimationFrame(n)}}},{key:"animatePositionChange",value:function(){return this.state={name:this.args.beginPosition.name,rotation:{x:Cube.group.rotation.x,y:Cube.group.rotation.y,z:Cube.group.rotation.z}},this.animation=window.requestAnimationFrame(this.animatePositionChange.bind(this)),window.animation=this.animation,this.renderPosition()}},{key:"renderPosition",value:function(e){if(this.end){var t=this.animation;return window.cancelAnimationFrame(t),document.getElementsByClassName("cubeUi__face--name")[0].innerHTML=this.args.positionSelected.name,window.cubeAnimationState=!1}var i=Cube.group,n=this.args.positionSelected,o=this.state;for(var a in n)if(n.hasOwnProperty(a))for(var r in n[a])n[a].hasOwnProperty(r)&&(n[a][r]===o[a][r]||(n[a][r]>o[a][r]?("rotation"===a&&(i[a][r]+=.1,o[a][r]+=.1),this.end=!1):n[a][r]<o[a][r]&&("rotation"===a&&(i[a][r]-=.1,o[a][r]-=.1),this.end=!1)),"rotation"===a&&(o[a][r]=parseFloat(parseFloat(o[a][r]).toFixed(1))));if(n.rotation.x===o.rotation.x&&n.rotation.y===o.rotation.y&&n.rotation.z===o.rotation.z)this.end=!0;else if(this.calls++,this.calls>14&&3===o.rotation.x&&.1===o.rotation.y)return this.end=!0}}]),e}()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.CubeInteraction=function e(t){i(this,e)}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.Detector=function e(){i(this,e);var t={isMobile:navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/),canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(t){var i,n,o;t=t||{},i=void 0!==t.parent?t.parent:document.body,n=void 0!==t.id?t.id:"oldie",o=e.getWebGLErrorMessage(),o.id=n,i.appendChild(o)}};return navigator.vibrate=navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&t.isMobile?t.vibrate=!0:t.vibrate=!1,t}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.interfaceBuilder=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(17),r=i(18);t.interfaceBuilder=function(){function e(t){n(this,e);var i=$.el(".cubeUi__infos--text"),o=$.el(".cubeUi__moreInfo");i.addEventListener("click",function(){o.classList.toggle("active"),o.classList.toggle("animation_hide")}),$.el(".cubeUi__moreInfo--close").addEventListener("click",function(){o.classList.toggle("active"),o.classList.toggle("animation_hide")}),t=Detector.isMobile,null===t?this.loadSlider():this.loadSliderMobile()}return o(e,[{key:"loadSlider",value:function(){var e=this,t=new a.loadData("dist/data/slider.json",function(){t=JSON.parse(t.responseText);var i=MyApp.templates.slider(t);e.container=document.createElement("div"),e.container.className="cubeUI",e.container.innerHTML=i,document.body.appendChild(e.container),Fidget.interface=new r.InterfaceCube})}},{key:"loadSliderMobile",value:function(){loader.changeState("building cube interface mobile"),this.container=document.createElement("div"),this.container.className="cubeUI--mobile",document.body.className="mobile",document.body.appendChild(this.container),loader.changeState("loading the cube")}}]),e}()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.loadData=function e(t,n){i(this,e);var o=new XMLHttpRequest;return o.overrideMimeType("application/json"),o.open("GET",t,!0),o.onreadystatechange=function(){4==o.readyState&&"200"==o.status&&n&&n(o.responseText)},o.send(null),o}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.InterfaceCube=function(){function e(){i(this,e),this.DetectPosSlider(),loader.changeState("builded cube interface desktop")}return n(e,[{key:"DetectPosSlider",value:function(){var e,t,i,n,o,a,r,s=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){var t;this.$context=e,this.onMouseMove=s(this.onMouseMove,this),this.onMouseUp=s(this.onMouseUp,this),this.onMouseDown=s(this.onMouseDown,this),this.updateSlider=s(this.updateSlider,this),this.$circle=this.$context.querySelector(".circle"),this.$innerCircle=this.$context.querySelector(".inner-circle"),this.$knob=this.$context.querySelector(".knob"),this.$progress=this.$context.querySelector(".progress"),this.ctx=this.$progress.getContext("2d"),t=this.$circle.getBoundingClientRect(),this.elementPosition={x:t.left,y:t.top},window.getComputedStyle(this.$progress),this.centerX=window.getComputedStyle(this.$progress).width/2,this.centerY=window.getComputedStyle(this.$progress).height/2,this.canvasSize=2*this.centerX,this.addEventListeners(),this.updateSlider()}return e.prototype.raf=null,e.prototype.mdown=!1,e.prototype.mPos={x:0,y:0},e.prototype.elementPosition={x:0,y:0},e.prototype.radius=146,e.prototype.knobRadius=15,e.prototype.maxDiff=150,e.prototype.constraint=360,e.prototype.target=0,e.prototype.centerX=0,e.prototype.centerY=0,e.prototype.$circle=null,e.prototype.$knob=null,e.prototype.$progress=null,e.prototype.x=0,e.prototype.y=0,e.prototype.addEventListeners=function(){this.$context.addEventListener("mousedown",this.onMouseDown),this.$context.addEventListener("mousemove",this.onMouseMove),document.body.addEventListener("mouseup",this.onMouseUp)},e.prototype.updateSlider=function(){this.raf=requestAnimationFrame(this.updateSlider),this.setPosition(),this.drawArc()},e.prototype.setPosition=function(){this.x=Math.round(this.radius*Math.sin(this.target*Math.PI/180))+this.radius-this.knobRadius+0,this.y=Math.round(this.radius*-Math.cos(this.target*Math.PI/180))+this.radius-this.knobRadius+0,this.$knob.style.left=this.x,this.$knob.style.top=this.y},e.prototype.drawArc=function(){this.$progress.width=this.canvasSize,this.$progress.height=this.canvasSize,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY-this.radius),this.ctx.rotate(-90*Math.PI/180),this.ctx.strokeStyle="rgba(0,0,0,0)",this.ctx.beginPath(),this.ctx.lineWidth=8,this.ctx.arc(0-this.radius-1,0,this.radius-1,0,this.target*Math.PI/180,!1),this.ctx.stroke(),this.ctx.restore()},e.prototype.setMousePosition=function(e){var t=void 0,i=void 0,n=void 0;if(this.mPos={x:e.pageX-this.elementPosition.x,y:e.pageY-this.elementPosition.y},t=Math.atan2(this.mPos.x-this.radius,this.mPos.y-this.radius),n=-t/(Math.PI/180)+180,i=Math.abs(n-this.target),i<this.maxDiff&&n<this.constraint){if(this.target=n,window.CustomEvent)var o=new CustomEvent("sliderchange",{detail:{value:this.target}});else{var o=document.createEvent("CustomEvent");o.initCustomEvent("sliderchange",!0,!0,{value:this.target})}this.$context.dispatchEvent(o)}},e.prototype.getBackground=function(){var e=void 0,t=void 0,i=void 0,n=void 0,o=void 0,a=void 0;for(a=60,e=15,this.$progress.height=this.canvasSize,this.$progress.width=this.canvasSize,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),t=n=0,o=a;n<=o;t=n+=1)this.ctx.beginPath(),this.ctx.rotate(2*Math.PI/a),t%e===e-1?(this.ctx.lineWidth=2,this.ctx.moveTo(160,0),this.ctx.lineTo(136,0),this.ctx.strokeStyle="#04465C"):(this.ctx.lineWidth=1,this.ctx.lineTo(155,0),this.ctx.lineTo(135,0),this.ctx.strokeStyle="#02394A"),this.ctx.stroke();return this.ctx.restore(),i=this.$progress.get(0).toDataURL(),this.ctx.clearRect(0,0,this.canvasSize,this.canvasSize),i},e.prototype.onMouseDown=function(e){this.mdown=!0},e.prototype.onMouseUp=function(e){this.mdown=!1},e.prototype.onMouseMove=function(e){this.mdown&&this.setMousePosition(e)},e}(),this.$slider=document.querySelector(".radial-slider"),this.$value=document.querySelector(".value"),o=new e(this.$slider);var c=0,l=$.all("#stick_circle g"),u=$.id("Selector");if(this.$slider.addEventListener("sliderchange",function(e){return function(t){e.$value.innerHTML=Math.round(t.detail.value);var i=Math.ceil(t.detail.value),n=i/360*100,o=Math.ceil(l.length*n/100),a=c/360*100,r=Math.floor(l.length*a/100),s=document.querySelector(".before"),d=document.querySelector(".after"),h=document.querySelector(".select");if(s&&(s.className.baseVal=""),d&&(d.className.baseVal=""),h&&(h.className.baseVal=""),o>r){l[o-1].classList.add("select");var m=o-2,f=o;l[m]&&l[m].classList.add("before"),l[f]&&l[f].classList.add("after")}switch(!0){case i<=45:u.querySelector("g:first-child").classList.add("select"),u.querySelector("g:nth-child(2)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[0]);break;case i>45&&i<=135:u.querySelector("g:first-child").classList.remove("select"),u.querySelector("g:nth-child(2)").classList.add("select"),u.querySelector("g:nth-child(3)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[1]);break;case i>135&&i<=180:u.querySelector("g:nth-child(2)").classList.remove("select"),u.querySelector("g:nth-child(3)").classList.add("select"),u.querySelector("g:nth-child(4)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[2]);break;case i>180&&i<=225:u.querySelector("g:nth-child(3)").classList.remove("select"),
u.querySelector("g:nth-child(4)").classList.add("select"),u.querySelector("g:nth-child(5)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[3]);break;case i>225&&i<=315:u.querySelector("g:nth-child(4)").classList.remove("select"),u.querySelector("g:nth-child(5)").classList.add("select"),u.querySelector("g:nth-child(6)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[4]);break;case i>315&&i<357:document.querySelector("#Selector g:nth-child(5)").classList.remove("select"),document.querySelector("#Selector g:nth-child(6)").classList.add("select"),Cube.setPosition(Cube.group,Cube.positions[5]);break;case i>358:u.querySelector("g:first-child").classList.add("select"),u.querySelector("g:nth-child(6)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[6])}c=i}}(this)),i=0,r=["ms","moz","webkit","o"],this.cancelAnimationFrame||(this.cancelAnimationFrame=this.cancelRequestAnimationFrame),!this.requestAnimationFrame)for(t=0,n=r.length;t<n;t++)a=r[t],this.requestAnimationFrame||(this.requestAnimationFrame=this[a+"RequestAnimationFrame"]),this.cancelAnimationFrame=this.cancelRequestAnimationFrame||(this.cancelRequestAnimationFrame=this[a+"CancelRequestAnimationFrame"]);this.requestAnimationFrame||(this.requestAnimationFrame=function(e,t){var n,o,a;return n=(new Date).getTime(),a=Math.max(0,16-(n-i)),o=this.setTimeout(function(){return e(n+a)},a),i=n+a,o}),this.cancelAnimationFrame||(this.cancelAnimationFrame=this.cancelRequestAnimationFrame=function(e){return clearTimeout(e)})}}]),e}()}]);