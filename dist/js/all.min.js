"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MsgConsole(){if(window.console){var e=0;e||(setTimeout(function(){},1),e=1)}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Fidget=void 0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_classCube=require("./models/class.cube.js"),_classInterfaceBuilder=require("./models/class.interface-builder.js"),Fidget=exports.Fidget=function(){function e(){_classCallCheck(this,e),this.cube=new _classCube.Cube,this.interfaceBuilder=new _classInterfaceBuilder.interfaceBuilder(window.Detector.isMobile),this.renderThemes(window.Detector.isMobile)}return _createClass(e,[{key:"renderThemes",value:function(e){var t=this;if(e=Detector.isMobile)return!1;var i=window.Detector.isMobile?"showLabel":"",n=this.cube.themes.map(function(e,t){var n="",a=JSON.parse(JSON.stringify(e.colorSet.mainColor));Object.keys(a).forEach(function(e){a[e]=255*a[e]});var o="rgb( "+a.r+", "+a.g+", "+a.b+"  )";return n+='<li>\n                                <a href="#" class="cubeUi__themes--item " data-index="'+t+'">\n                                    <div class="round" style="background:'+o+'"></div><span class="'+i+'">'+e.name+"</span>\n                                </a>\n                          </li>"});$.el(".cubeUi__themes--list").innerHTML+=n.join("");var a=$.class("cubeUi__themes--item");[].forEach.call(a,function(e){e.addEventListener("click",function(i){i.preventDefault();var n=document.querySelector(".cubeUi__themes--item.active");n&&n.classList.remove("active"),e.classList.add("active");var a=e.getAttribute("data-index"),o=t.cube;o.setTheme(o.group,o.themes[a])})})}}]),e}();Object.defineProperty(exports,"__esModule",{value:!0});var loadData=exports.loadData=function e(t,i){_classCallCheck(this,e);var n=new XMLHttpRequest;return n.overrideMimeType("application/json"),n.open("GET",t,!0),n.onreadystatechange=function(){4==n.readyState&&"200"==n.status&&i&&i(n.responseText)},n.send(null),n},_loaderData=require("./loader-data.js"),_classScrollHorizontal=require("./models/class.scroll-horizontal.js"),_classAnimation=require("./models/class.animation.js"),_classLoader=require("./models/class.loader.js"),_classParticule=require("./models/class.particule.js"),_classRedirect=require("./models/class.redirect.js"),_classDommanipulator=require("./models/class.dommanipulator.js"),_fidget=require("./fidget.js"),$=new _classDommanipulator.DomManipulator;window.$=$;var loader=new _classLoader.appLoader;window.loader=loader;var animation=new _classAnimation.AnimationInterface;$.el(".index-detect")?!function(){loader.changeState("detect home");new _classParticule.Particule;loader.changeState="load data json";var e=new _loaderData.loadData("dist/data/data.json",function(){e=e.responseText,e=JSON.parse(e);var t=MyApp.templates.home(e),i=MyApp.templates.story(e),n=MyApp.templates.contact(e);$.el("#container_page--home").innerHTML=t,$.el("#container_page--story").innerHTML=i,$.el("#container_page--contact").innerHTML=n},function(){loader.__proto___.changeState("rendering cool pages")});document.addEventListener("DOMNodeInserted",function(){document.body.clientWidth>1024&&!function(){switch(!0){case null==$.el("#container_story"):break;case null!=$.el("#container_story"):var e=$.el("#container_story");e.addEventListener("mousewheel",function(){return new _classScrollHorizontal.scrollHorizontal(window.event,e)}),e.addEventListener("DOMMouseScroll",function(t){return new _classScrollHorizontal.scrollHorizontal(t,e)})}}()}),window.location.hash.length>1&&new _classRedirect.Redirect(window.location.hash),loader.__proto__.changeState("end")}():(loader.changeState("detect cube"),window.Fidget=new _fidget.Fidget),MsgConsole(),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationInterface=void 0;var _classDommanipulator=require("./class.dommanipulator.js"),$=new _classDommanipulator.DomManipulator,AnimationInterface=exports.AnimationInterface=function e(){_classCallCheck(this,e);var t=$.el(".menu__button");t.addEventListener("click",function(){t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active"),$.el(".revealMenu").classList.toggle("active")});var i=$.all(".revealMenu__list--link");[].forEach.call(i,function(e){e.addEventListener("mouseenter",function(t){var i=e.getAttribute("data-src");$.el(".revealMenu__imageContainer--picture").setAttribute("src",i)})});var n=$.el(".home"),a=$.el(".story_page"),o=$.el(".credit"),s=$.el(".cube");n.addEventListener("click",function(){$.el(".revealMenu").classList.toggle("active"),t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active"),$.el("#container_page--home").classList.remove("hide_home"),$.el("#container_page--story").classList.add("hide_story"),$.el("#container_page--contact").classList.add("hide_contact")}),s.addEventListener("click",function(){$.el(".revealMenu").classList.toggle("active"),t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active")}),a.addEventListener("click",function(){$.el(".revealMenu").classList.toggle("active"),t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active"),$.el("#container_page--story").classList.remove("hide_story"),$.el("#container_page--home").classList.add("hide_home"),$.el("#container_page--contact").classList.add("hide_contact")}),o.addEventListener("click",function(){$.el(".revealMenu").classList.toggle("active"),t.querySelector(".menu__button-lineFirst").classList.toggle("active"),t.querySelector(".menu__button-lineSecond").classList.toggle("active"),$.el("#container_page--contact").classList.remove("hide_contact"),$.el("#container_page--home").classList.add("hide_home"),$.el("#container_page--story").classList.add("hide_story")})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cube=void 0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_cubeThemes=require("./cube-assets/cube-themes.js"),_cubePositions=require("./cube-assets/cube-positions.js"),_cubeAnimation=require("./cube-assets/cube-animation.js"),_cubeInteraction=require("./cube-assets/cube-interaction.js"),_detector=require("../modules/detector.js"),Cube=exports.Cube=function(){function e(){var t=this;if(_classCallCheck(this,e),window.Detector=new _detector.Detector,this.enableVibration=window.Detector.vibrate,window.Cube=this,this.themes=new _cubeThemes.CubeThemes,this.activeTheme=this.themes[0],this.positions=new _cubePositions.CubePositions,this.activePosition=this.positions[0],window.cubeAnimationState=!1,this.renderScene(),this.setLights(),this.setCamera(),window.Detector.isMobile){new THREE.OrbitControls(this.camera,this.renderer.domElement)}this.animate(),loader.changeState("loading the cube"),this.loadModel(),window.addEventListener("resize",function(){return t.onWindowResize()},!1)}return _createClass(e,[{key:"setTheme",value:function(e,t,i){var n=this;this.activeTheme===t&&i!==!0||(e.children.forEach(function(e,i){switch(e.name){case"roll_sphere":var a=new window.THREEx.CubeCamera(e);n.scene.add(a.object3d),e.material.envMap=a.textureCube,a.update(n.renderer,n.scene);break;case"glide1 extru_glide extru_glide1":e.material.color=t.colorSet.lightColor;break;case"extru_cube Cube1":case"extru_cube Neutre breathe":e.material.color=t.colorSet.cube;break;case"pivot_breathe Pivot flip":case"spin spin2":case"spin spin3":case"glide1 base_glade":case"glide1 extru_glide glide":case"roll roll1":case"roll rollmiddle":case"roll roll3":case"click cylindre1":case"click cyllindre2":case"click cylindre3":case"click cylindre4":case"click cylindre_middle":e.material.color=t.colorSet.mainColor;break;default:e.material.color=t.colorSet.cube}}),document.querySelector(".menu__buttonBuy.unselectable").setAttribute("href","https://www.antsylabs.com/products/fidget-cube?variant="+t.buy_code),this.activeTheme=t)}},{key:"setPosition",value:function(e,t,i){if(this.activePosition!==t||i){var n=this.activePosition;new _cubeAnimation.CubeAnimation("animatePositionChange",{beginPosition:n,positionSelected:t});this.activePosition=t}}},{key:"loadModel",value:function(){var e=this,t=new THREE.LoadingManager,i=(document.querySelector(".value"),function(e){if(e.lengthComputable){e.loaded/e.total*100}}),n=function(e){},a=function(e){},o=new THREE.OBJLoader(t);o.load("dist/models3D/model.obj",function(t){e.scene.add(t),window.model=t,loader.changeState("end");var i=new THREEx.DomEvents(e.camera,e.renderer.domElement);t.children.forEach(function(e,n){switch(e.name){case"pivot_breathe Pivot flip":e.animation=new _cubeAnimation.CubeAnimation("animateSwitcher",{mesh:e,type:"interaction"});break;case"click cylindre1":case"click cyllindre2":case"click cylindre3":case"click cylindre4":case"click cylindre_middle":e.animation=new _cubeAnimation.CubeAnimation("animateButtonsPush",{mesh:e,type:"interaction"});break;case"spin spin2":case"spin spin3":e.animation=new _cubeAnimation.CubeAnimation("animateSpin",{mesh:e,mesh2:"spin spin3"===e.name?t.children.filter(function(e){return"spin spin2"===e.name})[0]:t.children.filter(function(e){return"spin spin3"===e.name})[0],type:"interaction"})}i.addEventListener(e,"touchstart",function(t){switch(t.target.name){case"click cylindre1":case"click cyllindre2":case"click cylindre3":case"click cylindre4":case"click cylindre_middle":navigator.vibrate([10,30,90])}e.animation&&e.animation()},!1)}),window.Detector.isMobile&&(t.position.y=0),e.group=t,e.setTheme(t,e.activeTheme,!0),e.setPosition(t,e.activePosition,!1)},n,i,a)}}]),_createClass(e,[{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"animate",value:function(){window.requestAnimationFrame(this.animate.bind(this)),this.render()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera),this.group}},{key:"setLights",value:function(){var e=new THREE.DirectionalLight(16777215,.75);e.position.set(0,0,1),this.scene.add(e);var e=new THREE.DirectionalLight(16777215,.75);e.position.set(-1,0,-1),this.scene.add(e);var e=new THREE.DirectionalLight(16777215,.75);e.position.set(1,1,0),this.scene.add(e);var e=new THREE.DirectionalLight(16777215,.75);e.position.set(-1,-1,0),this.scene.add(e)}},{key:"setCamera",value:function(){var e=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3);this.camera=e,this.camera.position.z=750,this.camera.position.x=0,this.camera.position.y=0,this.camera=e}},{key:"renderScene",value:function(){this.container=document.createElement("div"),document.body.appendChild(this.container);var e=new THREE.Scene;this.scene=e;var t=window.Detector.webgl?new THREE.WebGLRenderer({antialias:!1,alpha:!0}):new THREE.CanvasRenderer;this.renderer=t,t.setPixelRatio(window.devicePixelRatio),t.setSize(window.innerWidth,window.innerHeight),t.domElement.id="three",this.container.appendChild(this.renderer.domElement)}}]),e}();Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),DomManipulator=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"id",value:function(e){return document.getElementById(e)}},{key:"el",value:function(e){return document.querySelector(e)}},{key:"class",value:function(e){return document.getElementsByClassName(e)}},{key:"tag",value:function(e){return document.getElementsByTagName(e)}},{key:"all",value:function(e){return document.querySelectorAll(e)}}]),e}();exports.DomManipulator=DomManipulator,Object.defineProperty(exports,"__esModule",{value:!0}),exports.interfaceBuilder=void 0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_handlebarsLoader=require("../modules/handlebars-loader.js"),_classInterface_cube=require("./class.interface_cube.js"),interfaceBuilder=exports.interfaceBuilder=function(){function e(t){_classCallCheck(this,e);var i=$.el(".cubeUi__infos--text"),n=$.el(".cubeUi__moreInfo");i.addEventListener("click",function(){n.classList.toggle("active"),n.classList.toggle("animation_hide")}),$.el(".cubeUi__moreInfo--close").addEventListener("click",function(){n.classList.toggle("active"),n.classList.toggle("animation_hide")}),t=Detector.isMobile,null===t?this.loadSlider():this.loadSliderMobile()}return _createClass(e,[{key:"loadSlider",value:function(){var e=this,t=new _handlebarsLoader.loadData("dist/data/slider.json",function(){t=JSON.parse(t.responseText);var i=MyApp.templates.slider(t);e.container=document.createElement("div"),e.container.className="cubeUI",e.container.innerHTML=i,document.body.appendChild(e.container),Fidget.interface=new _classInterface_cube.InterfaceCube})}},{key:"loadSliderMobile",value:function(){loader.changeState("building cube interface mobile"),this.container=document.createElement("div"),this.container.className="cubeUI--mobile",document.body.className="mobile",document.body.appendChild(this.container),loader.changeState("loading the cube")}}]),e}();Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),InterfaceCube=exports.InterfaceCube=function(){function e(){_classCallCheck(this,e),this.DetectPosSlider(),loader.changeState("builded cube interface desktop")}return _createClass(e,[{key:"DetectPosSlider",value:function(){var e,t,i,n,a,o,s,r=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){var t;this.$context=e,this.onMouseMove=r(this.onMouseMove,this),this.onMouseUp=r(this.onMouseUp,this),this.onMouseDown=r(this.onMouseDown,this),this.updateSlider=r(this.updateSlider,this),this.$circle=this.$context.querySelector(".circle"),this.$innerCircle=this.$context.querySelector(".inner-circle"),this.$knob=this.$context.querySelector(".knob"),this.$progress=this.$context.querySelector(".progress"),this.ctx=this.$progress.getContext("2d"),t=this.$circle.getBoundingClientRect(),this.elementPosition={x:t.left,y:t.top},window.getComputedStyle(this.$progress),this.centerX=window.getComputedStyle(this.$progress).width/2,this.centerY=window.getComputedStyle(this.$progress).height/2,this.canvasSize=2*this.centerX,this.addEventListeners(),this.updateSlider()}return e.prototype.raf=null,e.prototype.mdown=!1,e.prototype.mPos={x:0,y:0},e.prototype.elementPosition={x:0,y:0},e.prototype.radius=146,e.prototype.knobRadius=15,e.prototype.maxDiff=150,e.prototype.constraint=360,e.prototype.target=0,e.prototype.centerX=0,e.prototype.centerY=0,e.prototype.$circle=null,e.prototype.$knob=null,e.prototype.$progress=null,e.prototype.x=0,e.prototype.y=0,e.prototype.addEventListeners=function(){this.$context.addEventListener("mousedown",this.onMouseDown),this.$context.addEventListener("mousemove",this.onMouseMove),document.body.addEventListener("mouseup",this.onMouseUp)},e.prototype.updateSlider=function(){this.raf=requestAnimationFrame(this.updateSlider),this.setPosition(),this.drawArc()},e.prototype.setPosition=function(){this.x=Math.round(this.radius*Math.sin(this.target*Math.PI/180))+this.radius-this.knobRadius+0,this.y=Math.round(this.radius*-Math.cos(this.target*Math.PI/180))+this.radius-this.knobRadius+0,this.$knob.style.left=this.x,this.$knob.style.top=this.y},e.prototype.drawArc=function(){this.$progress.width=this.canvasSize,this.$progress.height=this.canvasSize,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY-this.radius),this.ctx.rotate(-90*Math.PI/180),this.ctx.strokeStyle="rgba(0,0,0,0)",this.ctx.beginPath(),this.ctx.lineWidth=8,this.ctx.arc(0-this.radius-1,0,this.radius-1,0,this.target*Math.PI/180,!1),this.ctx.stroke(),this.ctx.restore()},e.prototype.setMousePosition=function(e){var t=void 0,i=void 0,n=void 0;if(this.mPos={x:e.pageX-this.elementPosition.x,y:e.pageY-this.elementPosition.y},t=Math.atan2(this.mPos.x-this.radius,this.mPos.y-this.radius),n=-t/(Math.PI/180)+180,i=Math.abs(n-this.target),i<this.maxDiff&&n<this.constraint){if(this.target=n,window.CustomEvent)var a=new CustomEvent("sliderchange",{detail:{value:this.target}});else{var a=document.createEvent("CustomEvent");a.initCustomEvent("sliderchange",!0,!0,{value:this.target})}this.$context.dispatchEvent(a)}},e.prototype.getBackground=function(){var e=void 0,t=void 0,i=void 0,n=void 0,a=void 0,o=void 0;for(o=60,e=15,this.$progress.height=this.canvasSize,this.$progress.width=this.canvasSize,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),t=n=0,a=o;n<=a;t=n+=1)this.ctx.beginPath(),this.ctx.rotate(2*Math.PI/o),t%e===e-1?(this.ctx.lineWidth=2,this.ctx.moveTo(160,0),this.ctx.lineTo(136,0),this.ctx.strokeStyle="#04465C"):(this.ctx.lineWidth=1,this.ctx.lineTo(155,0),this.ctx.lineTo(135,0),this.ctx.strokeStyle="#02394A"),this.ctx.stroke();return this.ctx.restore(),i=this.$progress.get(0).toDataURL(),this.ctx.clearRect(0,0,this.canvasSize,this.canvasSize),i},e.prototype.onMouseDown=function(e){this.mdown=!0},e.prototype.onMouseUp=function(e){this.mdown=!1},e.prototype.onMouseMove=function(e){this.mdown&&this.setMousePosition(e)},e}(),this.$slider=document.querySelector(".radial-slider"),this.$value=document.querySelector(".value"),a=new e(this.$slider);var c=0,l=$.all("#stick_circle g"),u=$.id("Selector");if(this.$slider.addEventListener("sliderchange",function(e){return function(t){e.$value.innerHTML=Math.round(t.detail.value);var i=Math.ceil(t.detail.value),n=i/360*100,a=Math.ceil(l.length*n/100),o=c/360*100,s=Math.floor(l.length*o/100),r=document.querySelector(".before"),d=document.querySelector(".after"),h=document.querySelector(".select");if(r&&(r.className.baseVal=""),d&&(d.className.baseVal=""),h&&(h.className.baseVal=""),a>s){l[a-1].classList.add("select");var m=a-2,p=a;l[m]&&l[m].classList.add("before"),l[p]&&l[p].classList.add("after")}switch(!0){case i<=45:u.querySelector("g:first-child").classList.add("select"),u.querySelector("g:nth-child(2)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[0]);break;case i>45&&i<=135:u.querySelector("g:first-child").classList.remove("select"),u.querySelector("g:nth-child(2)").classList.add("select"),u.querySelector("g:nth-child(3)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[1]);break;case i>135&&i<=180:u.querySelector("g:nth-child(2)").classList.remove("select"),u.querySelector("g:nth-child(3)").classList.add("select"),u.querySelector("g:nth-child(4)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[2]);break;case i>180&&i<=225:u.querySelector("g:nth-child(3)").classList.remove("select"),u.querySelector("g:nth-child(4)").classList.add("select"),u.querySelector("g:nth-child(5)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[3]);break;case i>225&&i<=315:u.querySelector("g:nth-child(4)").classList.remove("select"),u.querySelector("g:nth-child(5)").classList.add("select"),u.querySelector("g:nth-child(6)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[4]);break;case i>315&&i<357:document.querySelector("#Selector g:nth-child(5)").classList.remove("select"),document.querySelector("#Selector g:nth-child(6)").classList.add("select"),Cube.setPosition(Cube.group,Cube.positions[5]);break;case i>358:u.querySelector("g:first-child").classList.add("select"),u.querySelector("g:nth-child(6)").classList.remove("select"),Cube.setPosition(Cube.group,Cube.positions[6])}c=i}}(this)),i=0,s=["ms","moz","webkit","o"],this.cancelAnimationFrame||(this.cancelAnimationFrame=this.cancelRequestAnimationFrame),!this.requestAnimationFrame)for(t=0,n=s.length;t<n;t++)o=s[t],this.requestAnimationFrame||(this.requestAnimationFrame=this[o+"RequestAnimationFrame"]),this.cancelAnimationFrame=this.cancelRequestAnimationFrame||(this.cancelRequestAnimationFrame=this[o+"CancelRequestAnimationFrame"]);this.requestAnimationFrame||(this.requestAnimationFrame=function(e,t){var n,a,o;return n=(new Date).getTime(),o=Math.max(0,16-(n-i)),a=this.setTimeout(function(){return e(n+o)},o),i=n+o,a}),this.cancelAnimationFrame||(this.cancelAnimationFrame=this.cancelRequestAnimationFrame=function(e){return clearTimeout(e)})}}]),e}();Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),appLoader=exports.appLoader=function(){function e(){return _classCallCheck(this,e),window.loadState="initJs",this.loadState=window.loadState,this.container=document.querySelector(".loader"),this.display=document.querySelector(".loader--state"),this}return _createClass(e,[{key:"changeState",value:function(e){window.loadState=e,"end"===e&&(setTimeout(function(){document.querySelector(".loader").className="loader hide"},250),e="Almost there"),this.display?this.display.innerHTML=e+"...":document.querySelector(".loader--state").innerHTML=e+"..."}}]),e}();Object.defineProperty(exports,"__esModule",{value:!0});var Particule=exports.Particule=function e(){_classCallCheck(this,e),particlesJS("particles-js",{particles:{number:{value:50,density:{enable:!0,value_area:800}},color:{value:"#2F9BC2"},shape:{type:"edge",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.35,random:!0,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:2,direction:"top",random:!0,straight:!1,out_mode:"out",attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0,config_demo:{hide_card:!1,background_color:"#b61924",background_image:"",background_position:"50% 50%",background_repeat:"no-repeat",background_size:"cover"}})};Object.defineProperty(exports,"__esModule",{value:!0});var Redirect=exports.Redirect=function e(t){switch(_classCallCheck(this,e),t=t.replace("#","")){case"story":document.querySelector("#container_page--home").classList.add("hide_home"),document.querySelector("#container_page--story").classList.remove("hide_story"),document.querySelector("#container_page--contact").classList.add("hide_contact");break;case"credit":document.querySelector("#container_page--home").classList.add("hide_home"),document.querySelector("#container_page--story").classList.add("hide_story"),document.querySelector("#container_page--contact").classList.remove("hide_contact")}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.scrollHorizontal=void 0;var _classDommanipulator=require("./class.dommanipulator.js"),$=new _classDommanipulator.DomManipulator,scrollHorizontal=exports.scrollHorizontal=function e(t,i){_classCallCheck(this,e),t.preventDefault();var n=t||window.event,a=0,o=0,s=0;t=n,n.wheelDelta&&(a=n.wheelDelta/120),n.detail&&(a=-n.detail/3),s=a,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(s=0,o=-1*a),void 0!==n.wheelDeltaY&&(s=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),i.scrollLeft-=10*a;var r=$.el(".story_intro").clientWidth,c=$.el(".story_part1").clientWidth,l=4*(r+c),u=100*$.el("#container_story").scrollLeft/($.el(".story").clientWidth-l);u=Math.round(-u);var d=$.el(".slider1"),h=$.el(".slider2"),m=$.el(".slider3"),p=$.el(".slider4");switch(!0){case u>=0&&u<32:d.classList.remove("hide_slider"),h.classList.add("hide_slider");break;case u>32&&u<62:d.classList.add("hide_slider"),h.classList.remove("hide_slider"),m.classList.add("hide_slider");break;case u>62&&u<92:h.classList.add("hide_slider"),m.classList.remove("hide_slider"),p.classList.add("hide_slider");break;case u>92:m.classList.add("hide_slider"),p.classList.remove("hide_slider")}};Object.defineProperty(exports,"__esModule",{value:!0});var Detector=exports.Detector=function e(){_classCallCheck(this,e);var t={isMobile:navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/),canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(t){var i,n,a;t=t||{},i=void 0!==t.parent?t.parent:document.body,n=void 0!==t.id?t.id:"oldie",a=e.getWebGLErrorMessage(),a.id=n,i.appendChild(a)}};return navigator.vibrate=navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&t.isMobile?t.vibrate=!0:t.vibrate=!1,t};Object.defineProperty(exports,"__esModule",{value:!0});var loadData=exports.loadData=function e(t,i){_classCallCheck(this,e);var n=new XMLHttpRequest;return n.overrideMimeType("application/json"),n.open("GET",t,!0),n.onreadystatechange=function(){4==n.readyState&&"200"==n.status&&i&&i(n.responseText)},n.send(null),n};Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),CubeAnimation=exports.CubeAnimation=function(){function e(t,i){if(_classCallCheck(this,e),this.args=i,"animatePositionChange"===t){if(this.id=String.fromCharCode(Math.floor(11*Math.random()))+Math.floor(1e6*Math.random()),cubeAnimationState||"animatePositionChange"!==t)return;window.cubeAnimationState=this}return"interaction"===this.args.type?(this.args.mesh[t]=this,this.args.mesh.isAnimating=!0,this[t]):(this.calls=0,this[t](),void(this.end=!1))}return _createClass(e,[{key:"animateSwitcher",value:function(){var e=this;navigator.vibrate([30,50,125]),e.rotation.x+=Math.PI,e.rotation.z+=Math.PI,e.position.x=10===e.position.x?0:10}},{key:"animateSpin",value:function(){var e=this,t=this;t.animation;return this.mesh=t,this.animationFrame=window.requestAnimationFrame(function(){return e.animation()}),t.animateSpin.renderSpin(t.rotation.z)}},{key:"renderSpin",value:function(e){var t=this.args.mesh.rotation,i=this.args.mesh2.rotation,n=e+Math.PI/24;if(n<=2*Math.PI)t.z=n,i.z=n,navigator.vibrate(2);else{t.z=0,i.z=0,this.args.mesh.stop=!1,this.args.mesh.isAnimating=!1;var a=this.args.mesh.animationFrame;a=window.cancelAnimationFrame(a)}}},{key:"animateButtonsPush",value:function(){var e=this,t=this;t.animation;return this.mesh=t,this.animationFrame=window.requestAnimationFrame(function(){return e.animation()}),t.animateButtonsPush.renderButtonsPush(t.position.y)}},{key:"renderButtonsPush",value:function(e){var t=this.args.mesh.position,i=e+.2;if(i<=5.2&&this.args.mesh.stop!==!0)t.y=i;else if(5===parseInt(t.y)&&this.args.mesh.stop!==!0)this.args.mesh.stop=!0;else if(this.args.mesh.stop&&t.y>=.3)t.y-=.4;else{t.y=0,this.args.mesh.stop=!1,this.args.mesh.isAnimating=!1;var n=this.args.mesh.animationFrame;n=window.cancelAnimationFrame(n)}}},{key:"animatePositionChange",value:function(){return this.state={name:this.args.beginPosition.name,rotation:{x:Cube.group.rotation.x,y:Cube.group.rotation.y,z:Cube.group.rotation.z}},this.animation=window.requestAnimationFrame(this.animatePositionChange.bind(this)),window.animation=this.animation,this.renderPosition()}},{key:"renderPosition",value:function(e){if(this.end){var t=this.animation;return window.cancelAnimationFrame(t),document.getElementsByClassName("cubeUi__face--name")[0].innerHTML=this.args.positionSelected.name,window.cubeAnimationState=!1}var i=Cube.group,n=this.args.positionSelected,a=this.state;for(var o in n)if(n.hasOwnProperty(o))for(var s in n[o])n[o].hasOwnProperty(s)&&(n[o][s]===a[o][s]||(n[o][s]>a[o][s]?("rotation"===o&&(i[o][s]+=.1,a[o][s]+=.1),this.end=!1):n[o][s]<a[o][s]&&("rotation"===o&&(i[o][s]-=.1,
a[o][s]-=.1),this.end=!1)),"rotation"===o&&(a[o][s]=parseFloat(parseFloat(a[o][s]).toFixed(1))));if(n.rotation.x===a.rotation.x&&n.rotation.y===a.rotation.y&&n.rotation.z===a.rotation.z)this.end=!0;else if(this.calls++,this.calls>14&&3===a.rotation.x&&.1===a.rotation.y)return this.end=!0}}]),e}();Object.defineProperty(exports,"__esModule",{value:!0});var CubeInteraction=exports.CubeInteraction=function e(t){_classCallCheck(this,e)};Object.defineProperty(exports,"__esModule",{value:!0});var CubePositions=exports.CubePositions=function e(){return _classCallCheck(this,e),this.list=[{name:"roll",rotation:{x:0,y:0,z:0}},{name:"glide",rotation:{y:1.5,x:0,z:0}},{name:"flip",rotation:{y:0,x:1.5,z:0}},{name:"breathe",rotation:{x:0,y:-1.5,z:0}},{name:"click",rotation:{x:-1.5,y:0,z:0}},{name:"spin",rotation:{x:3,y:0,z:0}},{name:"roll",rotation:{x:0,y:0,z:0}}],this.list};Object.defineProperty(exports,"__esModule",{value:!0});var CubeThemes=exports.CubeThemes=function e(){return _classCallCheck(this,e),this.list=[{name:"retro",buy_code:"30253661068",colorSet:{cube:{r:127/255,g:131/255,b:139/255},mainColor:{r:41/255,g:41/255,b:40/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"dice",buy_code:"26927898438",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:41/255,g:41/255,b:40/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"aqua",buy_code:"30253660812",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:65/255,g:184/255,b:226/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"berry",buy_code:"30253660940",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:232/255,g:30/255,b:158/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"sunset",buy_code:"30253660876",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:232/255,g:166/255,b:65/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"fresh",buy_code:"30253661004",colorSet:{cube:{r:246/255,g:249/255,b:251/255},mainColor:{r:187/255,g:234/255,b:110/255},lightColor:{r:56/255,g:56/255,b:56/255}}},{name:"graphite",buy_code:"30253660684",colorSet:{cube:{r:45/255,g:55/255,b:64/255},mainColor:{r:0,g:0,b:0},lightColor:{r:41/255,g:41/255,b:40/255}}},{name:"midnight",buy_code:"30253660748",colorSet:{cube:{r:16/255,g:20/255,b:24/255},mainColor:{r:41/255,g:41/255,b:40/255},lightColor:{r:41/255,g:41/255,b:40/255}}},{name:"kickstarter edition",buy_code:"30253661068",colorSet:{cube:{r:16/255,g:20/255,b:24/255},mainColor:{r:187/255,g:234/255,b:110/255},lightColor:{r:41/255,g:41/255,b:40/255}}}],this.list};